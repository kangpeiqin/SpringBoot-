<p> <a href="../README.md">返回首页</a></p>

# MySQL
## 架构
![image.png](https://i.bmp.ovh/imgs/2021/09/d3ca5f9a109ba68e.png)
- 查询解析与优化器
> 查询解析、分析、优化，缓存以及内置函数，存储过程、触发器、视图等功能
- 存储引擎
> 负责MySQL中数据的存储和提取。
> - `InnoDB`：默认的存储引擎，支持事务、外键，行锁设计，使用多版本并发控制(`MVCC`)获得高并发
> - `MyISAM`：不支持事务，表锁设计，支持全文索引
> - `Memory`：将表中的数据存放在内存当中，默认使用哈希索引，只支持表锁，并发性能较差
> - `Maria`：支持缓存数据和索引文件，应用了行锁，提供了`MVCC`功能
## 数据类型
- 整型
> TINYINT, SMALLINT, MEDIUMINT, INT, BIGINT， 分别使用 1, 2, 3, 4, 8 字节的存储空间
> - INT(5)表示当数值宽度小于5位的时候在数字前面填满宽度，一般是在数字位数不够的空间用字符"0"进行填充，如果不显示指定宽度则默认为INT(11)。
- 浮点型
> - 浮点数：FLOAT(单精度)、DOUBLE(双精度)
> - 定点数：DECIMAL，内部以字符串形式存放，比浮点数更精确，适合用来表示货币等精度高的数据。
> 
> 都可以指定列宽，比如`DECIMAL(M,D)`表示该值一共显示M位数字（整数位+小数位），其中D位位于小数点后面.
- 日期时间
> TIMESTAMP(和`UNIX`时间戳相同,只能表示从`1970`年到`2038`年)、TIME、YEAR、DATE、DATETIME、
- 字符串
> - 定长：CHAR，长度固定为创建表时声明的长度，长度可以为从0～255的任何值。
> - 变长：VARCHAR，值为可变长字符串，长度可以指定为0～255。
## 分区
分区是指根据一定的规则，在物理上把一个表分解成多个更小的、更容易管理的部分。
- 优点
> 和单个磁盘或者文件系统分区相比，可以存储更多数据。跨多个磁盘来分散数据查询，以获得更大的查询吞吐量。可以通过删除与这些数据有关的分区来快速删除数据。
- 分区类型
> RANGE分区、LIST分区、HASH分区、KEY分区
## 索引
> 许多查询只涉及文件中的少量记录，使用索引可以快速定位到这些记录，避免全表扫描。
### B+ 树索引
- 数据结构

- 聚集索引(主索引)
> 按照每张表的主键构造一颗`B+`树，同时叶子结点中存放的即为整张表的行记录数据
- 聚集索引索引(辅助索引)
> 叶子节点的 data 域记录着主键的值，因此在使用辅助索引进行查找时，需要先查找到主键值，然后再到主索引中进行查找。
### 全文索引

### 哈希索引

### 索引优化

## SQL优化

## 事务

## 锁

## 备份 

### 参考资料与链接
- <a href="http://blog.codinglabs.org/articles/theory-of-mysql-index.html">MySQL索引背后的数据结构及算法原理</a>  

# PostgresSQL